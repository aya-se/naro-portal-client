(function(e){function t(t){for(var a,o,u=t[0],s=t[1],l=t[2],f=0,p=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,u=1;u<r.length;u++){var s=r[u];0!==n[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=r[0]))}return e}var a={},n={app:0},i=[];function o(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=a,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(r,a,function(t){return e[t]}.bind(null,a));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var a=r("85ec"),n=r.n(a);n.a},"3dfd":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:{name:"Profile",params:{userId:e.userData.userid}}}},[e._v("プロフィール")]),e._v(" | "),r("router-link",{attrs:{to:{name:"Home"}}},[e._v("ホーム")]),e._v(" | "),r("router-link",{attrs:{to:{name:"Login"}}},[e._v("ログイン")])],1),r("router-view")],1)},n=[],i=r("bc3a"),o=r.n(i),u={data:function(){return{}},computed:{userData:function(){return this.$store.getters.userData}},mounted:function(){var e=this;o.a.get("/api/whoami").then((function(t){e.$store.commit("updateUserData",t.data)}))}},s=u,l=(r("034f"),r("2877")),c=Object(l["a"])(s,a,n,!1,null,null,null);t["a"]=c.exports},4360:function(e,t,r){"use strict";var a=r("2b0e"),n=r("2f62");a["default"].use(n["a"]),t["a"]=new n["a"].Store({state:{userData:{userid:"",username:"",biography:"",website:""}},getters:{userData:function(e){return e.userData}},mutations:{updateUserData:function(e,t){e.userData=t}},actions:{updateUserData:function(e,t){var r=e.commit;r("setUserData",{data:t})}},modules:{}})},"56d7":function(e,t,r){"use strict";r.r(t),function(e){r("e260"),r("e6cf"),r("cca6"),r("a79d");var t=r("2b0e"),a=r("5c96"),n=r.n(a),i=r("c3ff"),o=r.n(i),u=r("3dfd"),s=r("a18c"),l=(r("7378"),r("4360"));e.Vue=t["default"],t["default"].config.productionTip=!1,t["default"].use(n.a,{locale:o.a}),new t["default"]({router:s["a"],store:l["a"],render:function(e){return e(u["a"])}}).$mount("#app")}.call(this,r("c8ba"))},"5ced":function(e,t,r){},7378:function(e,t,r){"use strict";var a=r("2b0e"),n=r("5c96"),i=r.n(n),o=(r("c69f"),r("c3ff")),u=r.n(o);a["default"].use(i.a,{locale:u.a})},"85ec":function(e,t,r){},a18c:function(e,t,r){"use strict";r("96cf");var a=r("1da1"),n=r("2b0e"),i=r("8c4f"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"about"},[e.userData.userid===e.profileData.userid?r("div",[r("el-button",{attrs:{round:"",type:"default"},on:{click:function(t){return e.onEditProfile()}}},[e._v("プロフィールを編集")])],1):r("div",[-1===e.followList.findIndex((function(t){return t.userid===e.profileData.userid}))?r("el-button",{attrs:{round:"",type:"primary"},on:{click:function(t){return e.onFollow(e.profileData.userid)}}},[e._v("フォロー")]):r("el-button",{attrs:{round:"",type:"danger"},on:{click:function(t){return e.onUnfollow(e.profileData.userid)}}},[e._v("フォロー解除")])],1),r("h1",[e._v(e._s(e.profileData.username))]),r("p",[e._v("@"+e._s(e.profileData.userid))]),r("div",[e._v(e._s(e.profileData.biography)),r("br")]),""!=e.profileData.website?r("div",[r("i",{staticClass:"el-icon-paperclip"}),r("a",{attrs:{id:"website",href:e.profileData.website,target:"_blank"}},[e._v(e._s(e.profileData.website))]),r("br"),r("br"),r("router-link",{attrs:{to:{name:"Following",params:{userId:e.profileData.userid}}}},[r("b",[e._v(e._s(e.profileFollowList.length)+" ")]),e._v("フォロー ")]),r("router-link",{attrs:{to:{name:"Followers",params:{userId:e.profileData.userid}}}},[r("b",[e._v(e._s(e.profileFollowerList.length)+" ")]),e._v("フォロワ―")])],1):e._e(),r("el-tabs",{model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[r("el-tab-pane",{attrs:{label:"ツイート",name:"tweets"}}),r("el-tab-pane",{attrs:{label:"いいね",name:"favorites"}})],1),e._l(e.TweetList,(function(t){return r("ul",{key:t.id},["tweets"===e.tabName&&t.userid===e.profileData.userid||"favorites"===e.tabName&&-1!=e.profileFavoriteList.findIndex((function(e){return e.id===t.id}))?r("p",[r("i",{staticClass:"el-icon-user-solid"}),r("b",[e._v(e._s(t.username)+" ")]),r("router-link",{attrs:{to:{name:"Profile",params:{userId:t.userid}}}},[e._v("@"+e._s(t.userid))]),e._v("・"+e._s(t.time)+" "),t.userid===e.userData.userid?r("el-button",{attrs:{circle:"",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.onDeleteTweet(t.id)}}}):e._e(),r("br"),r("br"),e._v(e._s(t.text)),r("br"),-1===e.favoriteList.findIndex((function(e){return e.id===t.id}))?r("el-button",{attrs:{circle:"",type:"default",icon:"el-icon-star-off"},on:{click:function(r){return e.onFavorite(t.id)}}}):r("el-button",{attrs:{circle:"",type:"warning",icon:"el-icon-star-on"},on:{click:function(r){return e.onUnfavorite(t.id)}}})],1):e._e()])}))],2)},u=[],s=(r("7db0"),r("bc3a")),l=r.n(s),c={name:"Profile",props:{profile:String},data:function(){return{profileData:{},newText:"",TweetList:[],favoriteList:[],profileFavoriteList:[],followList:[],followerList:[],profileFollowList:[],profileFollowerList:[],tweetError:!1,loading:!0,tabName:"tweets"}},computed:{userData:function(){return this.$store.getters.userData}},mounted:function(){var e=this;l.a.get("/api/userInfo/"+this.$route.params["userId"]).then((function(t){e.profileData=t.data,l.a.get("/api/favoriteList/"+e.profileData.userid).then((function(t){null!==t.data&&(e.profileFavoriteList=t.data)})),l.a.get("/api/followList/"+e.profileData.userid).then((function(t){null!==t.data&&(e.profileFollowList=t.data)})),l.a.get("/api/followerList/"+e.profileData.userid).then((function(t){null!==t.data&&(e.profileFollowerList=t.data)}))})),l.a.get("/api/list").then((function(t){e.TweetList=t.data})),l.a.get("/api/whoami").then((function(t){e.userData=t.data,l.a.get("/api/favoriteList/"+e.userData.userid).then((function(t){null!==t.data&&(e.favoriteList=t.data),e.loading=!1})),l.a.get("/api/followList/"+e.userData.userid).then((function(t){null!==t.data&&(e.followList=t.data)})),l.a.get("/api/followerList/"+e.userData.userid).then((function(t){null!==t.data&&(e.followerList=t.data)}))}))},beforeRouteUpdate:function(e,t,r){var a=this;this.loading=!0,this.tabName="tweets",this.favoriteList=[],this.followList=[],this.followerList=[],this.profileFavoriteList=[],this.profileFollowList=[],this.profileFollowerList=[],r(!0),l.a.get("/api/userInfo/"+this.$route.params["userId"]).then((function(e){a.profileData=e.data,l.a.get("/api/favoriteList/"+a.profileData.userid).then((function(e){null!==e.data&&(a.profileFavoriteList=e.data)})),l.a.get("/api/followList/"+a.profileData.userid).then((function(e){null!==e.data&&(a.profileFollowList=e.data)})),l.a.get("/api/followerList/"+a.profileData.userid).then((function(e){null!==e.data&&(a.profileFollowerList=e.data)}))})),l.a.get("/api/list").then((function(e){a.TweetList=e.data})),l.a.get("/api/whoami").then((function(e){a.userData=e.data,l.a.get("/api/favoriteList/"+a.userData.userid).then((function(e){null!==e.data&&(a.favoriteList=e.data),a.loading=!1})),l.a.get("/api/followList/"+a.userData.userid).then((function(e){null!==e.data&&(a.followList=e.data)})),l.a.get("/api/followerList/"+a.userData.userid).then((function(e){null!==e.data&&(a.followerList=e.data)}))}))},methods:{onTweet:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=new Date,t.prev=1,t.next=4,l.a.post("/api/tweet",{id:String(Date.parse(r)),userid:e.userData.userid,time:r.toLocaleString(),text:e.newText});case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](1),e.tweetError=!0,t.abrupt("return");case 10:return e.tweetError=!1,e.$router.go({path:e.$router.currentRoute.path,force:!0}),t.abrupt("return");case 13:case"end":return t.stop()}}),t,null,[[1,6]])})))()},onDeleteTweet:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.tweetList.find((function(t){return t.id===e})),r.prev=1,r.next=4,l.a.post("/api/deleteTweet",{id:a.id,userid:a.userid,time:a.time,text:a.text});case 4:r.next=10;break;case 6:return r.prev=6,r.t0=r["catch"](1),t.tweetError=!0,r.abrupt("return");case 10:return t.tweetError=!1,t.$router.go({path:t.$router.currentRoute.path,force:!0}),r.abrupt("return");case 13:case"end":return r.stop()}}),r,null,[[1,6]])})))()},onFavorite:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/favorite",{userid:t.userData.userid,tweetid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return l.a.get("/api/favoriteList/"+t.$store.state.userData.userid).then((function(e){t.favoriteList=e.data})),l.a.get("/api/favoriteList/"+t.profileData.userid).then((function(e){t.profileFavoriteList=e.data})),r.abrupt("return");case 11:case"end":return r.stop()}}),r,null,[[0,5]])})))()},onUnfavorite:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/unfavorite",{userid:t.userData.userid,tweetid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return l.a.get("/api/favoriteList/"+t.$store.state.userData.userid).then((function(e){t.favoriteList=e.data})),l.a.get("/api/favoriteList/"+t.profileData.userid).then((function(e){t.profileFavoriteList=e.data})),r.abrupt("return");case 11:case"end":return r.stop()}}),r,null,[[0,5]])})))()},onFollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/follow",{userid:t.userData.userid,followid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return t.followList=[],t.followerList=[],t.profileFollowList=[],t.profileFollowerList=[],l.a.get("/api/followList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followList=e.data)})),l.a.get("/api/followerList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followerList=e.data)})),l.a.get("/api/followList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowList=e.data)})),l.a.get("/api/followerList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowerList=e.data)})),r.abrupt("return");case 17:case"end":return r.stop()}}),r,null,[[0,5]])})))()},onUnfollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/unfollow",{userid:t.userData.userid,followid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return t.followList=[],t.followerList=[],t.profileFollowList=[],t.profileFollowerList=[],l.a.get("/api/followList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followList=e.data)})),l.a.get("/api/followerList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followerList=e.data)})),l.a.get("/api/followList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowList=e.data)})),l.a.get("/api/followerList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowerList=e.data)})),r.abrupt("return");case 17:case"end":return r.stop()}}),r,null,[[0,5]])})))()},onEditProfile:function(){this.$router.push("/EditProfile")}}},f=c,p=r("2877"),d=Object(p["a"])(f,o,u,!1,null,null,null),w=d.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("p",[e._v("あなたのユーザーID：@"+e._s(e.userData.userid))]),e.updateError?r("div",{staticClass:"error"},[e._v(" 1文字以上の入力が必要です！ ")]):e._e(),r("p",[e._v("名前")]),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"20"},model:{value:e.newUserName,callback:function(t){e.newUserName=t},expression:"newUserName"}}),r("p",[e._v("自己紹介")]),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"140"},model:{value:e.newBiography,callback:function(t){e.newBiography=t},expression:"newBiography"}}),r("p",[e._v("ウェブサイト")]),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"500"},model:{value:e.newWebsite,callback:function(t){e.newWebsite=t},expression:"newWebsite"}}),r("el-button",{attrs:{round:"",type:"primary"},on:{click:function(t){return e.onUpdateProfile()}}},[e._v("保存")])],1)},v=[],g={name:"EditProfile",props:{editProfile:String},data:function(){return{newUserName:"",newBiography:"",newWebsite:"",updateError:!1}},computed:{userData:function(){return this.$store.getters.userData}},mounted:function(){var e=this;l.a.get("/api/whoami").then((function(t){e.userData=t.data,e.newUserName=e.userData.username,e.newBiography=e.userData.biography,e.newWebsite=e.userData.website}))},methods:{onUpdateProfile:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.newUserName.length){t.next=5;break}return e.updateError=!0,t.abrupt("return");case 5:return t.prev=5,t.next=8,l.a.post("/api/updateProfile",{userid:e.userData.userid,username:e.newUserName,biography:e.newBiography,website:e.newWebsite});case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](5),e.updateError=!0,t.abrupt("return");case 14:return e.updateError=!1,e.$router.push("/profile/"+e.userData.userid),t.abrupt("return");case 17:case"end":return t.stop()}}),t,null,[[5,10]])})))()}}},m=g,b=Object(p["a"])(m,h,v,!1,null,null,null),L=b.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"about"},[e.profileFollowList.length?r("div",e._l(e.profileFollowList,(function(t){return r("ul",{key:t.userid},[r("p",[r("i",{staticClass:"el-icon-user-solid"}),r("b",[e._v(e._s(t.username)+" ")]),r("router-link",{attrs:{to:{name:"Profile",params:{userId:t.userid}}}},[e._v("@"+e._s(t.userid))]),r("br"),e._v(e._s(t.biography)),r("br"),-1===e.followList.findIndex((function(e){return e.userid===t.userid}))&&t.userid!==e.userData.userid?r("el-button",{attrs:{round:"",type:"primary"},on:{click:function(r){return e.onFollow(t.userid)}}},[e._v("フォロー")]):t.userid!==e.userData.userid?r("el-button",{attrs:{round:"",type:"danger"},on:{click:function(r){return e.onUnfollow(t.userid)}}},[e._v("フォロー解除")]):e._e()],1)])})),0):r("div",[r("h3",[e._v("フォローしているユーザーはいません")])])])},x=[],_={name:"Following",props:{profile:String},data:function(){return{profileData:{},followList:[],followerList:[],profileFollowList:[],profileFollowerList:[],loading:!0}},computed:{userData:function(){return this.$store.getters.userData}},mounted:function(){var e=this;l.a.get("/api/userInfo/"+this.$route.params["userId"]).then((function(t){e.profileData=t.data,l.a.get("/api/followList/"+e.profileData.userid).then((function(t){null!==t.data&&(e.profileFollowList=t.data)})),l.a.get("/api/followerList/"+e.profileData.userid).then((function(t){null!==t.data&&(e.profileFollowerList=t.data)}))})),l.a.get("/api/whoami").then((function(t){e.userData=t.data,l.a.get("/api/followList/"+e.userData.userid).then((function(t){e.loading=!1,null!==t.data&&(e.followList=t.data)})),l.a.get("/api/followerList/"+e.userData.userid).then((function(t){null!==t.data&&(e.followerList=t.data)}))}))},beforeRouteUpdate:function(e,t,r){var a=this;this.loading=!0,this.tabName="tweets",this.followList=[],this.followerList=[],this.profileFollowList=[],this.profileFollowerList=[],r(!0),l.a.get("/api/userInfo/"+this.$route.params["userId"]).then((function(e){a.profileData=e.data,l.a.get("/api/followList/"+a.profileData.userid).then((function(e){null!==e.data&&(a.profileFollowList=e.data)})),l.a.get("/api/followerList/"+a.profileData.userid).then((function(e){null!==e.data&&(a.profileFollowerList=e.data)}))})),l.a.get("/api/list").then((function(e){a.TweetList=e.data})),l.a.get("/api/whoami").then((function(e){a.userData=e.data,l.a.get("/api/followList/"+a.userData.userid).then((function(e){a.loading=!1,null!==e.data&&(a.followList=e.data)})),l.a.get("/api/followerList/"+a.userData.userid).then((function(e){null!==e.data&&(a.followerList=e.data)}))}))},methods:{onFollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/follow",{userid:t.userData.userid,followid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return t.followList=[],t.followerList=[],t.profileFollowList=[],t.profileFollowerList=[],l.a.get("/api/followList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followList=e.data)})),l.a.get("/api/followerList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followerList=e.data)})),l.a.get("/api/followList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowList=e.data)})),l.a.get("/api/followerList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowerList=e.data)})),r.abrupt("return");case 17:case"end":return r.stop()}}),r,null,[[0,5]])})))()},onUnfollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/unfollow",{userid:t.userData.userid,followid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return t.followList=[],t.followerList=[],t.profileFollowList=[],t.profileFollowerList=[],l.a.get("/api/followList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followList=e.data)})),l.a.get("/api/followerList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followerList=e.data)})),l.a.get("/api/followList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowList=e.data)})),l.a.get("/api/followerList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowerList=e.data)})),r.abrupt("return");case 17:case"end":return r.stop()}}),r,null,[[0,5]])})))()}}},k=_,F=Object(p["a"])(k,D,x,!1,null,null,null),y=F.exports,R=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"about"},[e.profileFollowerList.length?r("div",e._l(e.profileFollowerList,(function(t){return r("ul",{key:t.userid},[r("p",[r("i",{staticClass:"el-icon-user-solid"}),r("b",[e._v(e._s(t.username)+" ")]),r("router-link",{attrs:{to:{name:"Profile",params:{userId:t.userid}}}},[e._v("@"+e._s(t.userid))]),r("br"),e._v(e._s(t.biography)),r("br"),-1===e.followList.findIndex((function(e){return e.userid===t.userid}))&&t.userid!==e.userData.userid?r("el-button",{attrs:{round:"",type:"primary"},on:{click:function(r){return e.onFollow(t.userid)}}},[e._v("フォロー")]):t.userid!==e.userData.userid?r("el-button",{attrs:{round:"",type:"danger"},on:{click:function(r){return e.onUnfollow(t.userid)}}},[e._v("フォロー解除")]):e._e()],1)])})),0):r("div",[r("h3",[e._v("フォロワーはいません")])])])},$=[],U={name:"Followers",props:{profile:String},data:function(){return{profileData:{},followList:[],followerList:[],profileFollowList:[],profileFollowerList:[],loading:!0}},computed:{userData:function(){return this.$store.getters.userData}},mounted:function(){var e=this;l.a.get("/api/userInfo/"+this.$route.params["userId"]).then((function(t){e.profileData=t.data,l.a.get("/api/followList/"+e.profileData.userid).then((function(t){null!==t.data&&(e.profileFollowList=t.data)})),l.a.get("/api/followerList/"+e.profileData.userid).then((function(t){null!==t.data&&(e.profileFollowerList=t.data)}))})),l.a.get("/api/whoami").then((function(t){e.userData=t.data,l.a.get("/api/followList/"+e.userData.userid).then((function(t){e.loading=!1,null!==t.data&&(e.followList=t.data)})),l.a.get("/api/followerList/"+e.userData.userid).then((function(t){null!==t.data&&(e.followerList=t.data)}))}))},beforeRouteUpdate:function(e,t,r){var a=this;this.loading=!0,this.tabName="tweets",this.followList=[],this.followerList=[],this.profileFollowList=[],this.profileFollowerList=[],r(!0),l.a.get("/api/userInfo/"+this.$route.params["userId"]).then((function(e){a.profileData=e.data,l.a.get("/api/followList/"+a.profileData.userid).then((function(e){null!==e.data&&(a.profileFollowList=e.data)})),l.a.get("/api/followerList/"+a.profileData.userid).then((function(e){null!==e.data&&(a.profileFollowerList=e.data)}))})),l.a.get("/api/list").then((function(e){a.TweetList=e.data})),l.a.get("/api/whoami").then((function(e){a.userData=e.data,l.a.get("/api/followList/"+a.userData.userid).then((function(e){a.loading=!1,null!==e.data&&(a.followList=e.data)})),l.a.get("/api/followerList/"+a.userData.userid).then((function(e){null!==e.data&&(a.followerList=e.data)}))}))},methods:{onFollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/follow",{userid:t.userData.userid,followid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return t.followList=[],t.followerList=[],t.profileFollowList=[],t.profileFollowerList=[],l.a.get("/api/followList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followList=e.data)})),l.a.get("/api/followerList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followerList=e.data)})),l.a.get("/api/followList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowList=e.data)})),l.a.get("/api/followerList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowerList=e.data)})),r.abrupt("return");case 17:case"end":return r.stop()}}),r,null,[[0,5]])})))()},onUnfollow:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/unfollow",{userid:t.userData.userid,followid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return t.followList=[],t.followerList=[],t.profileFollowList=[],t.profileFollowerList=[],l.a.get("/api/followList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followList=e.data)})),l.a.get("/api/followerList/"+t.userData.userid).then((function(e){null!==e.data&&(t.followerList=e.data)})),l.a.get("/api/followList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowList=e.data)})),l.a.get("/api/followerList/"+t.profileData.userid).then((function(e){null!==e.data&&(t.profileFollowerList=e.data)})),r.abrupt("return");case 17:case"end":return r.stop()}}),r,null,[[0,5]])})))()}}},E=U,O=Object(p["a"])(E,R,$,!1,null,null,null),j=O.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"about"},[r("h2",[e._v("Webエンジニアになろう講習会")]),r("h1",[e._v("Twitterクローン")]),r("h3",[e._v("ようこそ！"+e._s(e.userData.username)+"さん！")]),r("p",[e._v("あなたのユーザーID：@"+e._s(e.userData.userid))]),e.tweetError?r("div",{staticClass:"error"},[e._v(" 1文字以上の入力が必要です！ ")]):e._e(),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"140",placeholder:"いまどうしてる？"},model:{value:e.newText,callback:function(t){e.newText=t},expression:"newText"}}),r("el-button",{attrs:{round:"",type:"primary"},on:{click:function(t){return e.onTweet()}}},[e._v("ツイートする")]),e._l(e.tweetList,(function(t){return r("ul",{key:t.id},[r("p",[r("i",{staticClass:"el-icon-user-solid"}),r("b",[e._v(e._s(t.username)+" ")]),r("router-link",{attrs:{to:{name:"Profile",params:{userId:t.userid}}}},[e._v("@"+e._s(t.userid))]),e._v("・"+e._s(t.time)+" "),t.userid===e.userData.userid?r("el-button",{attrs:{circle:"",type:"danger",icon:"el-icon-delete"},on:{click:function(r){return e.onDeleteTweet(t.id)}}}):e._e(),r("br"),r("br"),e._v(e._s(t.text)),r("br"),-1===e.favoriteList.findIndex((function(e){return e.id===t.id}))?r("el-button",{attrs:{circle:"",type:"default",icon:"el-icon-star-off"},on:{click:function(r){return e.onFavorite(t.id)}}}):r("el-button",{attrs:{circle:"",type:"warning",icon:"el-icon-star-on"},on:{click:function(r){return e.onUnfavorite(t.id)}}})],1)])}))],2)},P=[],T={name:"Home",props:{home:String},data:function(){return{newText:"",tweetList:[],favoriteList:[],tweetError:!1,loading:!0}},computed:{userData:function(){return this.$store.getters.userData}},mounted:function(){var e=this;l.a.get("/api/list").then((function(t){e.tweetList=t.data})),l.a.get("/api/whoami").then((function(t){e.$store.commit("updateUserData",t.data),l.a.get("/api/favoriteList/"+e.$store.state.userData.userid).then((function(t){null!==t.data&&(e.favoriteList=t.data),e.loading=!1}))}))},methods:{onTweet:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=new Date,e.newText.length){t.next=5;break}e.tweetError=!0,t.next=17;break;case 5:return t.prev=5,t.next=8,l.a.post("/api/tweet",{id:String(Date.parse(r)),userid:e.userData.userid,time:r.toLocaleString(),text:e.newText});case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](5),e.tweetError=!0,t.abrupt("return");case 14:return e.tweetError=!1,l.a.get("/api/list").then((function(t){e.tweetList=t.data})),t.abrupt("return");case 17:case"end":return t.stop()}}),t,null,[[5,10]])})))()},onDeleteTweet:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t.tweetList.find((function(t){return t.id===e})),r.prev=1,r.next=4,l.a.post("/api/deleteTweet",{id:a.id,userid:a.userid,time:a.time,text:a.text});case 4:r.next=9;break;case 6:return r.prev=6,r.t0=r["catch"](1),r.abrupt("return");case 9:return t.tweetError=!1,l.a.get("/api/list").then((function(e){t.tweetList=e.data})),r.abrupt("return");case 12:case"end":return r.stop()}}),r,null,[[1,6]])})))()},onFavorite:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/favorite",{userid:t.userData.userid,tweetid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return l.a.get("/api/favoriteList/"+t.$store.state.userData.userid).then((function(e){t.favoriteList=e.data})),r.abrupt("return");case 10:case"end":return r.stop()}}),r,null,[[0,5]])})))()},onUnfavorite:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l.a.post("/api/unfavorite",{userid:t.userData.userid,tweetid:e});case 3:r.next=8;break;case 5:return r.prev=5,r.t0=r["catch"](0),r.abrupt("return");case 8:return t.favoriteList=[],l.a.get("/api/favoriteList/"+t.$store.state.userData.userid).then((function(e){null!==e.data&&(t.favoriteList=e.data)})),r.abrupt("return");case 11:case"end":return r.stop()}}),r,null,[[0,5]])})))()}}},N=T,S=(r("cccb"),Object(p["a"])(N,I,P,!1,null,null,null)),C=S.exports,W=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login"},[e.userData.userid.length?r("div",[r("h3",[e._v("現在あなたは@"+e._s(e.userData.userid)+"としてログインしています。")]),r("el-button",{attrs:{round:"",type:"danger"},on:{click:function(t){return e.onLogout()}}},[e._v("ログアウトする")]),r("h3",[e._v("別のアカウントでログインしますか？")])],1):r("h1",[e._v(" まずはログインしましょう ")]),r("div",[e.loginError?r("div",{staticClass:"error"},[e._v(" 有効なIDとパスワードを入力してください！ ")]):e._e(),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"140",placeholder:"ユーザーID"},model:{value:e.userid,callback:function(t){e.userid=t},expression:"userid"}}),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"140",placeholder:"パスワード"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("div",[r("el-button",{attrs:{round:"",type:"primary"},on:{click:function(t){return e.onLogin()}}},[e._v("ログインする")])],1),r("div",[r("h4",[e._v("アカウントを持っていませんか？今すぐ作りましょう！")]),e.registerError?r("div",{staticClass:"error"},[e._v(" 有効なIDとパスワードを入力してください！ ")]):e._e(),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"140",placeholder:"ユーザーID"},model:{value:e.newUserid,callback:function(t){e.newUserid=t},expression:"newUserid"}}),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"140",placeholder:"アカウント名"},model:{value:e.newUsername,callback:function(t){e.newUsername=t},expression:"newUsername"}}),r("el-input",{attrs:{type:"text",minlength:"1",maxlength:"140",placeholder:"パスワード"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}}),r("el-button",{attrs:{round:"",type:"primary"},on:{click:function(t){return e.onRegister()}}},[e._v("アカウントを作成する")])],1)])},B=[],M={name:"Login",props:{login:String},data:function(){return{userid:"",password:"",newUserid:"",newUsername:"",newPassword:"",loginError:!1,registerError:!1}},computed:{userData:function(){return this.$store.getters.userData}},mounted:function(){var e=this;l.a.get("/api/whoami").then((function(t){e.$store.commit("updateUserData",t.data)}))},methods:{onLogin:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("/api/login",{userid:e.userid,password:e.password});case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t["catch"](0),e.$nextTick((function(){this.loginError=!0})),t.abrupt("return");case 9:return e.loginError=!1,e.$router.push("/"),t.abrupt("return");case 12:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onLogout:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("/api/logout",{});case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t["catch"](0),t.abrupt("return");case 8:return e.$router.go({path:e.$router.currentRoute.path,force:!0}),t.abrupt("return");case 10:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onRegister:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l.a.post("/api/signup",{userid:e.newUserid,username:e.newUsername,password:e.newPassword});case 3:t.next=9;break;case 5:return t.prev=5,t.t0=t["catch"](0),e.$nextTick((function(){this.registerError=!0})),t.abrupt("return");case 9:return e.registerError=!1,e.$router.go({path:e.$router.currentRoute.path,force:!0}),t.abrupt("return");case 12:case"end":return t.stop()}}),t,null,[[0,5]])})))()}}},H=M,J=(r("d6db"),Object(p["a"])(H,W,B,!1,null,null,null)),V=J.exports;n["default"].use(i["a"]);var q=[{path:"/profile/:userId",name:"Profile",component:w,props:!0},{path:"/editProfile",name:"EditProfile",component:L,props:!0},{path:"/:userId/following",name:"Following",component:y,props:!0},{path:"/:userId/followers",name:"Followers",component:j,props:!0},{path:"/",name:"Home",component:C,props:!0},{path:"/login",name:"Login",component:V,props:!0,meta:{isPublic:!0}}],z=new i["a"]({routes:q});z.beforeEach(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/api/whoami");case 3:e.next=10;break;case 5:if(e.prev=5,e.t0=e["catch"](0),"/login"!==t.path){e.next=9;break}return e.abrupt("return",a(!0));case 9:return e.abrupt("return",a("/login"));case 10:a(!0);case 11:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,r,a){return e.apply(this,arguments)}}());t["a"]=z},c69f:function(e,t,r){},cccb:function(e,t,r){"use strict";var a=r("5ced"),n=r.n(a);n.a},d6db:function(e,t,r){"use strict";var a=r("e67a"),n=r.n(a);n.a},e67a:function(e,t,r){}});
//# sourceMappingURL=app.139f6fa3.js.map